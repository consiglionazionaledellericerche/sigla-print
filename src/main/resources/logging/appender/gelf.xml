<?xml version="1.0" encoding="UTF-8"?>

<!--
gelf appender
-->

<included>
    <appender name="GELF UDP APPENDER" class="me.moocar.logbackgelf.GelfUDPAppender">
        <remoteHost>${gelf.host}</remoteHost>
        <port>${gelf.port}</port>
        <encoder class="me.moocar.logbackgelf.GZIPEncoder">
            <layout class="me.moocar.logbackgelf.GelfLayout">
                <useLoggerName>true</useLoggerName>
                <fullMessageLayout class="ch.qos.logback.classic.PatternLayout">
                    <pattern>${FILE_LOG_PATTERN}</pattern>
                </fullMessageLayout>
            </layout>
        </encoder>
    </appender>
    <appender name="ASYNC_GELF_APPENDER" class="ch.qos.logback.classic.AsyncAppender">
        <appender-ref ref="GELF UDP APPENDER" />
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>INFO</level>
        </filter>
    </appender>
</included>